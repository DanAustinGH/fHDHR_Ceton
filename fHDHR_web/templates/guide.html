{% extends "base.html" %}

{% block content %}

    <h4 style="text-align: center;">What's On {{ fhdhr.config.dict["fhdhr"]["friendlyname"] }}</h4>

    <p>
      {% for epg_method in epg_methods %}
        <button onclick="OpenLink('/guide?source={{ epg_method }}')">{{ epg_method }}</a></button>
      {% endfor %}
    </p>

    <div class="rTable" >
      <div class="rTableHeading">
	      {% if source in ["blocks", "origin", fhdhr.config.dict["main"]["dictpopname"]] %}
            <div class="rTableHead">Play</div>
          {% endif %}
	  <div class="rTableHead">Channel Name</div>
	  <div class="rTableHead">Channel Number</div>
	  <div class="rTableHead">Channel Thumbnail</div>
	  <div class="rTableHead">Content Title</div>
	  <div class="rTableHead">Content Thumbnail</div>
	  <div class="rTableHead">Content Description</div>
	  <div class="rTableHead">Start Time (UTC)</div>
	  <div class="rTableHead">End Time (UTC)</div>
	  <div class="rTableHead">Content Remaining Time</div>
        </div>

      {% set rowCount = namespace(value=1) %}
      {% for chan_dict in chan_guide_list %}
      {% if (rowCount.value % 2) %}
          <div class="rTableRow">
      {% else %}
          <div class="rTableRowAlternate">
      {% endif %}

          {% if source in ["blocks", "origin", fhdhr.config.dict["main"]["dictpopname"]] %}
          <div class="rTableCell"> 
              {% if chan_dict["enabled"] %}
                <a href="{{ chan_dict["play_url"] }}">Play</a>
              {% endif %}
            </div>
          {% endif %}
          <div class="rTableCell">{{ chan_dict["name"] }}</div>
	  <div class="rTableCell">{{ chan_dict["number"] }}</div>
          <div class="rTableCell">img src="{{ chan_dict["chan_thumbnail"] }}" alt="{{ chan_dict["name"] }}" width="100" height="100"></div>
	  <div class="rTableCell">{{ chan_dict["listing_title"] }}</div>
	  <div class="rTableCell"><img src="{{ chan_dict["listing_thumbnail"] }}" alt="{{ chan_dict["listing_title"] }}" width="100" height="100"></div>
	  <div class="rTableCell">{{ chan_dict["listing_description"] }}</div>
	  <div class="rTableCell">{{ chan_dict["listing_time_start"] }}</div>
	  <div class="rTableCell">{{ chan_dict["listing_time_end"] }}</div>
	  <div class="rTableCell">{{ chan_dict["listing_remaining_time"] }}</div>
        </div>
	{% set rowCount.value = rowCount.value+ 1 %}
      {% endfor %}

{% endblock %}
