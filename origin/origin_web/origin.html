{% extends "base.html" %}

{% block content %}

    <h4 style="text-align: center;">{{ fhdhr.config.dict["main"]["servicename"] }} Status</h4>

    <td class=container">
    <table class="table-medium center action-col">
    <tbody>
      <tr>
        <td>Setup</td>
        <td>{{ origin_status_dict['Setup'] }}</td>
      </tr>
      <tr>
        <td>Temperature</td>
        <td>{{ origin_status_dict['Temp'] }}</td>
      </tr>
      </tbody>

      <table class="table-medium center">
        <thead>
          <tr>
            <th>Tuner</th>
             <th>State</th>
             <th>Signal</th>
             <th>SNR</th>
             <th>Action</th>
          </tr>
        </thead>

      <tbody>
      {% for key in list(origin_status_dict.keys()) 
      if "Tuner" in key: %}
      <tr>
           <td>{{ key[5:]  }}</td>
           <td>{{ origin_status_dict[key]['State'] }}</td>
           <td>{{ origin_status_dict[key]['Signal'] }}</td>
           <td>{{ origin_status_dict[key]['SNR'] }}</td>
          {% if origin_status_dict[key]['State'] == "STOPPED" %}
            <td></td>
          {% endif %}
          {% if origin_status_dict[key]['State'] == "PLAYING" %}
           <td><button onclick="OpenLink('/api/origin?method=close&tuner={{ key[5:] }}&redirect=%2Forigin')">Close</a></button></td>
          {% endif %}
        </tr>
      {% endfor %}
     </tbody>
{% endblock %}
